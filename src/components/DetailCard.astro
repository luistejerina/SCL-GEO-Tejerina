---
const { title, description,status, slug, layers,layers2, image, hasLayers, technical, leader} = Astro.props;

---
<div>
<div class="grid grid-cols-2 gap-4">
    <div>
        <p class="text-3xl pt-5 pb-5">{title}</p>
        <p class="prose">{description}</p>
        <div class="pt-4">
            <span class=`inline-block rounded-br-lg px-3 py-1 text-sm text-white mr-2 mb-2 ${ status == 'Completed' ? 'geo-status' : 'geo-status-ip'}`> { status }</span>
            <span class="inline-block geo-technical-leader rounded-br-lg px-3 py-1 text-sm text-white mr-2 mb-2"> { leader }</span>
            <span class="inline-block geo-technical-leader rounded-br-lg px-3 py-1 text-sm text-white mr-2 mb-2"> { technical }</span>
            <span class="inline-block bg-sky-500 rounded-br-lg px-3 py-1 text-sm text-white mr-2 mb-2">{ layers != null ? layers.length : 0 } layers</span>    
        </div>
        <div class="grid grid-cols-1 gap-4 pt-10 px-1">
            <ul class="list-none">
                {
                    layers?.map(l =>{	
                        var xx = layers2.filter(ll => ll.data.name === l.id)[0];			                        
                        return ( 
                            <li class="py-2 uppercase">➡️ { xx.data.name } <a href={ xx.data.link}>🔗</a></li> 
                        )
                    })
                }
            </ul>
        </div>
    </div>
    <div>
        <img class="w-full" src=`/scl-geo/${hasLayers == "false" ? "layers" : "products"}/${ image.url != null ? image.url : "backgroundv2.png"}` alt="Sunset in the mountains">
    </div>
</div>

</div>