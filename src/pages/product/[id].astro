---
import type { GetStaticPaths } from "astro";
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";
import DetailCard from '../../components/DetailCard.astro';

export async function getStaticPaths(){

    const products = await getCollection('products');

    return products.map((product)=>({
        params: { id: product.slug},
        props: { product}
    }))
};

const { product } = Astro.props
const { data } = product
const { name,status, description, layers,image } = data
---

<Layout>
    <DetailCard title={name} description={description} status={status} layers={layers} hasLayers="true" layer=false image={image}></DetailCard>
</Layout>